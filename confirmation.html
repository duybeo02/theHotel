<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X√°c nh·∫≠n ƒë·∫∑t ph√≤ng</title>
</head>
<body>
    <h2>X√°c nh·∫≠n ƒë·∫∑t ph√≤ng</h2>
    <p><b>Kh√°ch s·∫°n:</b> <span id="hotelName"></span></p>
    <p><b>Ng√†y nh·∫≠n ph√≤ng:</b> <span id="checkinDate"></span></p>
    <p><b>Ng√†y tr·∫£ ph√≤ng:</b> <span id="checkoutDate"></span></p>
    <p><b>T·ªïng s·ªë ng√†y:</b> <span id="totalDays"></span></p>
    <p><b>T·ªïng ti·ªÅn ph√≤ng:</b> <span id="totalPrice"></span> VNƒê</p>

    <h3>D·ªãch v·ª• ƒë√£ ch·ªçn</h3>
    <ul id="selectedServices"></ul>

    <p><b>T·ªïng ti·ªÅn d·ªãch v·ª•:</b> <span id="serviceTotalPrice">0</span> VNƒê</p>
    <p><b>T·ªïng ti·ªÅn thanh to√°n:</b> <span id="finalTotalPrice">0</span> VNƒê</p>

    <button onclick="confirmBooking()">Thanh To√°n</button>
    <button onclick="window.location.href='index.html'">V·ªÅ trang ch·ªß</button>

    <script>
        function confirmBooking() {
            alert("üéâ ƒê·∫∑t ph√≤ng th√†nh c√¥ng! C·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i.");
            
            // Ch·ªù 2 gi√¢y r·ªìi chuy·ªÉn v·ªÅ trang ch·ªß
            setTimeout(function () {
                window.location.href = "index.html";
            }, 500);
        }
        document.addEventListener("DOMContentLoaded", function () {
            const bookingData = JSON.parse(localStorage.getItem("bookingData"));
            const selectedServices = JSON.parse(localStorage.getItem("selectedServices")) || [];

            if (!bookingData) {
                alert("Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·∫∑t ph√≤ng!");
                window.location.href = "index.html";
                return;
            }

            document.getElementById("hotelName").innerText = bookingData.hotelName;
            document.getElementById("checkinDate").innerText = bookingData.checkinDate;
            document.getElementById("checkoutDate").innerText = bookingData.checkoutDate;
            document.getElementById("totalDays").innerText = bookingData.totalDays;
            document.getElementById("totalPrice").innerText = bookingData.totalPrice;

            const serviceList = document.getElementById("selectedServices");
            let serviceTotal = 0;

            selectedServices.forEach(service => {
                const li = document.createElement("li");
                li.textContent = `${service.name}: ${parseInt(service.price).toLocaleString("vi-VN")} VNƒê`;
                serviceList.appendChild(li);
                serviceTotal += parseInt(service.price);
            });

            document.getElementById("serviceTotalPrice").innerText = serviceTotal.toLocaleString("vi-VN");

            const finalTotal = serviceTotal + parseInt(bookingData.totalPrice.replace(/\D/g, ''));
            document.getElementById("finalTotalPrice").innerText = finalTotal.toLocaleString("vi-VN");
        });
    </script>
</body>
</html>
